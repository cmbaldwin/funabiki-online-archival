<%= turbo_frame_tag dom_id(message) do %>
  <div class="toast message me-1 show cursor-pointer <%= message.border %>" 
       data-controller="message"
       data-message-id="<%= message.id %>">
    <div class="rounded p-0 d-flex align-items-center justify-content-between">
      <div class="w-100 d-flex justify-content-between align-items-center flex-grow flex-fill text-center tippy-target">
        <%= status_icon(message) %>
        <strong class="overflow-hidden">
          <%= print_model(message.model) %>
        </strong>
        <small class="text-muted m-1">
          <%= time_ago_in_words(message.created_at) %>前
        </small>
      </div>
      <%= link_to icon('arrow-clockwise'), 
                  refresh_message_path(message),
                  data: {
                    turbo_stream: '',
                    turbo_frame: dom_id(message),
                  },
                  class: "btn btn-sm text-primary m-0 p-0 small" %>
      <%= link_to icon('trash'), 
                  destroy_message_path(message), 
                  data: { 
                    turbo_stream: '',
                    turbo_method: 'delete',
                    confirm: "このメッセージと関連するプロセスを削除してもよろしいですか？"
                  }, 
                  class: "btn btn-sm text-danger my-0 p-0 mx-1 small" %>
    </div>
  </div>
<% end %>
