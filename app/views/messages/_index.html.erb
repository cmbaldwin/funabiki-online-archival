<%= turbo_frame_tag 'messages', class: 'd-flex flex-nowrap', data: { messages_target: 'messagesList' } do %>
  <div class="order-first message-icon d-flex justify-content-between align-items-center cursor-pointer tippy"
       data-tippy-placement="bottom" 
       data-tippy-content="<b>システム通知バー</b><br><small>(ここをクリックするとすべての<br>メッセージが強制的に更新されます)</small>"
       data-controller="tippy"
       data-action="click->messages#refresh">
    <%= icon 'chat-left-dots', class: 'mx-2' %>
  </div>
  <% @messages.each do |message| %>
    <%= render message, locals: { message: message } %>
  <% end %>
<% end %>

