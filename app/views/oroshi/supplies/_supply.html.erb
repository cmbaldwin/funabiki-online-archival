<% supply ||= @supply %>
<%= turbo_frame_tag dom_id(supply) do %>
  <%= form_with model: supply, 
                data: { 
                  action: 'change->oroshi--supplies--supply-date#onChange',
                  supply_type: supply.supply_type_variation.supply_type.id,
                  supply_type_variation: supply.supply_type_variation.id,
                  supplier: supply.supplier.id,
                  supply_reception_time: supply.supply_reception_time.id
                } do |f| %>
    <div class="input-group input-group-sm mb-1 pe-1 flex-nowrap">
      <span class="handle input-group-text p-1" style="max-width: 150px;">
        <div class="d-none"><%= supply.supply_type_variation.to_s %>【<%= supply.supply_type_variation.units %>】</div>
      </span>
      <%= supply_quantity_field(f, supply) %>
      <%= supply_price_field(f, supply) %>
      <%= oroshi_supply_completion_span(supply) %>
    </div>
  <% end %> 
<% end %>
<script>
  // Bugfix for wrongly focused input
  document.getElementById('supply_quantity_<%= supply.id %>').focus();
</script>